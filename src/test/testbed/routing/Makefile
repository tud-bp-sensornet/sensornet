CONTIKI = ../../../../lib/contiki

# default parameters
K = 2
MAX_NODES = 20
MAX_EDGES = 100
DISCOVERY_INTERVAL_MIN = 15
DISCOVERY_INTERVAL_MAX = 25
TTL = 30

# piloty1
POSITION_ARRAY_RIMEADDR_OFFSET = 1
NODE_POSITION_ARRAY_LENGTH = 53
NODE_POSITION_ARRAY = {-29,73},{-11,52},{-55,64},{-46,42},{-79,56},{-66,40},{-109,45},{-96,29},{-6,2},{-33,-17},{15,-22},{-2,-29},{22,-31},{6,-36},{41,-59},{18,-63},{49,-65},{26,-73},{-106,-12},{-127,-22},{-94,-29},{-112,-38},{-71,-54},{-84,-65},{-61,-70},{-73,-73},{-38,-79},{-59,-88},{-30,-86},{-29,-109},{-47,-114},{-13,-121},{-34,-127},{-18,70},{-2,52},{10,82},{26,61},{6,98},{23,84},{46,116},{55,105},{65,123},{71,109},{81,125},{89,116},{96,127},{105,116},{59,36},{68,20},{91,50},{102,36},{120,59},{128,45}

CFLAGS += -Wall

CFLAGS += -DK=$(K)
CFLAGS += -DMAX_NODES=$(MAX_NODES)
CFLAGS += -DMAX_EDGES=$(MAX_EDGES)
CFLAGS += -DDISCOVERY_INTERVAL_MIN=$(DISCOVERY_INTERVAL_MIN)
CFLAGS += -DDISCOVERY_INTERVAL_MAX=$(DISCOVERY_INTERVAL_MAX)
CFLAGS += -DPOSITION_ARRAY_RIMEADDR_OFFSET=$(POSITION_ARRAY_RIMEADDR_OFFSET)
CFLAGS += -DNODE_POSITION_ARRAY=$(NODE_POSITION_ARRAY)
CFLAGS += -DNODE_POSITION_ARRAY_LENGTH=$(NODE_POSITION_ARRAY_LENGTH)
CFLAGS += -DTTL=$(TTL)

#CFLAGS += -D__GRAPH_DEBUG__=1
CFLAGS += -D__NEIGHBOR_DISCOVERY_DEBUG__=1
#CFLAGS += -D__BROADCAST_DEBUG__=1
#CFLAGS += -D__SERIALIZE_DEBUG__=1
CFLAGS += -D__ROUTING_DEBUG__=1

PROJECT_SOURCEFILES+=../../../graph.c
PROJECT_SOURCEFILES+=../../../graph-operations.c
PROJECT_SOURCEFILES+=../../../serialize.c
PROJECT_SOURCEFILES+=../../../pbroadcast.c
PROJECT_SOURCEFILES+=../../../neighbor-discovery.c
PROJECT_SOURCEFILES+=../../../positions.c
PROJECT_SOURCEFILES+=../../../routing.c
CFLAGS += -I../../../

CONTIKI_WITH_RIME = 1
include $(CONTIKI)/Makefile.include
